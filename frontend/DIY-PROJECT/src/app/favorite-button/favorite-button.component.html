@if (isLoggedIn()) {
  <button 
    mat-icon-button 
    (click)="$event.stopPropagation(); toggle()"
    (click)="toggle()" 
    [class.filled]="isFavorited"
    [disabled]="loading()">
    
    @if (loading()) {
      <mat-spinner diameter="20"></mat-spinner>
    } @else {
      <mat-icon>
        {{ isFavorited ? 'favorite' : 'favorite_border' }}
      </mat-icon>
    }
  </button>
}
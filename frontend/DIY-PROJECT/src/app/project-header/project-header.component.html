@if (project(); as proj) {
<div class="project-header">
  <div class="header-image">
    <img [src]="getImageUrl()" [alt]="proj.title">
  </div>

  <div class="header-content">
    <h1 class="title">{{ proj.title }}</h1>
    <p class="description">{{ proj.description }}</p>

    <div class="meta-bar">
      <div class="author">
        @if (avatar().url) {
        <img [src]="avatar().url" class="avatar" alt="avatar">
        } @else {
        <div class="avatar placeholder" [style.background-color]="avatar().color">
          {{ avatar().initial }}
        </div>
        }
        <span class="author-name">{{ proj.users?.userName || 'Anonymous' }}</span>
      </div>

      <div class="stats">
        <span class="stat">
          <mat-icon>favorite_border</mat-icon>
          {{ proj.likesCount ?? 0 }}
        </span>
        <span class="stat">
          <mat-icon>access_time</mat-icon>
          {{ proj.timePrep || 'Not specified' }}
        </span>
        <span class="stat">
          <mat-icon>person_outline</mat-icon>
          {{ proj.ages || 'All ages' }}
        </span>
      </div>
    </div>

    <div class="actions">
      <button mat-stroked-button (click)="downloadPdf(proj.id)">
        <mat-icon>download</mat-icon>
        Download PDF
      </button>
      
      <button mat-stroked-button (click)="print()">
        <mat-icon>print</mat-icon>
        Print
      </button>

      <button mat-stroked-button (click)="share()">
        <mat-icon>share</mat-icon>
        Share
      </button>
    </div>
  </div>

  <button mat-fab class="whatsapp-btn" (click)="shareWhatsApp()">
    <mat-icon>whatsapp</mat-icon>
  </button>
</div>
}

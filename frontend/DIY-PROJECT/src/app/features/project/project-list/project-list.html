<div class="page-wrapper">
  <app-project-filters (filterChange)="onFilterChange($event)"></app-project-filters>

  <div class="projects-grid">
    @for (project of projects(); track trackById($index, project)) {
      <app-project-card [project]="project"></app-project-card>
    }

    <!-- Skeleton Loading -->
    @if (loading() && projects().length === 0) {
      @for (i of [1,2,3,4,5,6,7,8,9,10]; track i) {
        <div class="skeleton-card"></div>
      }
    }
  </div>

  <!-- ××™×Ÿ ×ª×•×¦××•×ª -->
  @if (!loading() && projects().length === 0) {
    <div class="empty-state">
      <mat-icon class="empty-icon">search_off</mat-icon>
      <h2>Projects were not found</h2>
      <p>Try changing the search term or choose another category</p>
    </div>
  }

  <!-- ×˜×¢×Ÿ ×¢×•×“ -->
  @if (hasMore()) {
    <div class="load-more-wrapper">
      <button mat-stroked-button class="load-more-btn" (click)="loadMore()" [disabled]="loading()">
        @if (loading()) {
          <mat-spinner diameter="20"></mat-spinner>
          <span>Loading projects...</span>
        } @else {
          <mat-icon>refresh</mat-icon>
Load more        }
      </button>
    </div>
  }

  @if (!hasMore() && projects().length > 0) {
    <div class="end-of-list">
      <p>ðŸŽ‰ That's it! I saw all the available projects.</p>
    </div>
  }
</div>
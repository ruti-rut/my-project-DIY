<div class="page-wrapper">
  <app-project-filters (filterChange)="onFilterChange($event)"></app-project-filters>

  <div class="projects-grid">
    @for (project of projects(); track trackById($index, project)) {
      <app-project-card [project]="project"></app-project-card>
    }

    <!-- Skeleton Loading -->
    @if (loading() && projects().length === 0) {
      @for (i of [1,2,3,4,5,6,7,8,9,10]; track i) {
        <div class="skeleton-card"></div>
      }
    }
  </div>

  <!--  转爪转 -->
  @if (!loading() && projects().length === 0) {
    <div class="empty-state">
      <mat-icon class="empty-icon">search_off</mat-icon>
      <h2> 爪 驻专拽</h2>
      <p>住 砖转 转 驻砖  专 拽专转 专转</p>
    </div>
  }

  <!-- 注 注 -->
  @if (hasMore()) {
    <div class="load-more-wrapper">
      <button mat-stroked-button class="load-more-btn" (click)="loadMore()" [disabled]="loading()">
        @if (loading()) {
          <mat-spinner diameter="20"></mat-spinner>
          <span>注 驻专拽...</span>
        } @else {
          <mat-icon>refresh</mat-icon>
          注 注
        }
      </button>
    </div>
  }

  @if (!hasMore() && projects().length > 0) {
    <div class="end-of-list">
      <p> ! 专转 转  驻专拽 </p>
    </div>
  }
</div>
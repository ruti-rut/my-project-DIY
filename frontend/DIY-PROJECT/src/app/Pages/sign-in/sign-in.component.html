<!-- auth/components/login/login.component.html -->
<div class="login-container">
  <mat-card class="login-card">
    <mat-card-header>
      <mat-card-title>התחברות</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>שם משתמש או אימייל</mat-label>
          <input matInput formControlName="identifier" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>סיסמה</mat-label>
          <input matInput type="password" formControlName="password" />
        </mat-form-field>

        <button 
          mat-raised-button 
          color="primary" 
          type="submit" 
          [disabled]="form.invalid || loading"
          class="full-width submit-btn"
        >
          <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
          <span *ngIf="!loading">התחבר</span>
        </button>
      </form>

      <div class="divider">
        <span>או</span>
      </div>

      <button mat-stroked-button class="full-width google-btn" (click)="googleLogin()">
        <mat-icon svgIcon="google"></mat-icon>
        התחבר עם Google
      </button>

      <p *ngIf="error" class="error">{{ error }}</p>

      <p class="signup-link">
        אין לך חשבון? 
        <a routerLink="/sign-up">הירשם כאן</a>
      </p>
    </mat-card-content>
  </mat-card>
</div>